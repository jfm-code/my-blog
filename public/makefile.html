<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Makefile</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="234f7760-2c35-4bc6-a88b-91045ca5ae2d" class="page sans"><header><h1 class="page-title">Makefile</h1><p class="page-description"></p><table class="properties"><tbody></tbody></table></header><div class="page-body"><p id="3bec6bfa-74c4-4087-8c7d-659d33110e97" class="">The goal is to make our code easier to update and to maintain.</p><h1 id="552d4f75-6977-459a-8f39-08b210a06a1d" class="block-color-default">Step 1 to write Makefile</h1><p id="34c7d526-5ce4-4af7-ad82-5d9f9e09666e" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 1: we determine how many programs we want to execute</strong></span></mark><div class="indented"><ul id="744325d2-a547-420f-9947-a4fa468d84ec" class="bulleted-list"><li style="list-style-type:disc">In the picture below, we are using the makefile to make 2 programs, one is MyProg, another is Test</li></ul><ul id="5da30032-bf5b-40d0-9c25-17a956480b11" class="bulleted-list"><li style="list-style-type:disc">MyProg program will be executed by using files such as main.cpp, util.cpp, util.hpp<ul id="7756a7e7-ac5b-489e-a861-614dce82013d" class="bulleted-list"><li style="list-style-type:circle">The line <code>MyProg: main.cpp util.cpp util.hpp</code> ⇒ describe the dependencies (the relationship) between files that needed for the program MyProg</li></ul><ul id="fb3248a9-11b3-4010-9412-93c9b55bdbb3" class="bulleted-list"><li style="list-style-type:circle">The line <code>g++ -Wall -Werror -std=c++17 -o MyProg main.cpp util.cpp</code> ⇒ execute the .cpp files and create object for the MyProg program. Actually this line also need the <code>-lboost_unit_test_framework</code> but the picture below lacked it.</li></ul><ul id="1b0924db-9a0f-43cb-90ef-2213511ef4c8" class="bulleted-list"><li style="list-style-type:circle">When we write the compile line, the line <code>g++ …</code> ⇒ we only compile the source files (.cpp) files</li></ul><ul id="866d41ab-bec2-4253-9f7e-6e8afc272e02" class="bulleted-list"><li style="list-style-type:circle">The <code>-o MyProg</code> means we execute and link to a program called MyProg, this will create an object file</li></ul></li></ul><ul id="cb163dd0-d39b-4556-a6e9-8c04b392787a" class="bulleted-list"><li style="list-style-type:disc">Test program will be executed by using files such as test.cpp, util.cpp, util.hpp</li></ul><figure id="73328789-8396-4f58-981a-2111f2baec30" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-1.png?alt=media&token=9309e972-6ec7-4685-9d35-462df4acedbf"><img style="width:1676px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-1.png?alt=media&token=9309e972-6ec7-4685-9d35-462df4acedbf"/></a></figure></div></p><h1 id="b68627c7-5d4c-47a1-a056-3de48971772f" class="block-color-default">Step 2 to write Makefile</h1><p id="0c43ea63-19d2-48ae-965e-2066fb262678" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 2: create variables to prevent duplicate code (same as having constant variable in our code)</strong></span></mark><div class="indented"><ul id="e4f4ce9e-30db-407f-a21a-e697d01245ab" class="bulleted-list"><li style="list-style-type:disc">Remember that we need to use the dollar sign <code>$(…)</code> when we use the variable later in the makefile</li></ul><ul id="2743877b-4dab-4792-96b4-61444e0e7352" class="bulleted-list"><li style="list-style-type:disc">However, even after we use variable, we still see that there are duplicate part, such as <code>util.cpp util.hpp</code> in both lines 5,8 ⇒ This is when we need placeholders</li></ul><ul id="c923adc3-1d08-4e3d-aea4-1399fec2ca75" class="bulleted-list"><li style="list-style-type:disc">Now when we want to execute, we will type <code>make MyProg</code> or <code>make Test</code></li></ul><figure id="a42cac99-c860-49b6-ae0d-0ca5992b72b0" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-2.png?alt=media&token=19a2eb10-f3e8-428f-a5b1-9e6ceee6241a"><img style="width:1296px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-2.png?alt=media&token=19a2eb10-f3e8-428f-a5b1-9e6ceee6241a"/></a></figure></div></p><h1 id="081ff8c7-a0a0-403d-81e4-c0bbefb39210" class="block-color-default">Step 3 to write Makefile</h1><p id="51414ee9-54f2-4388-8030-6f46b9895e2d" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 3: create placeholders to prevent files being executed multiple times</strong></span></mark><div class="indented"><ul id="c0e20914-e642-4a36-a32d-010396adacab" class="bulleted-list"><li style="list-style-type:disc">From the picture above, we see that util.cpp util.hpp in lines 5,8 are executed twice for two programs. What we want to do instead is to compile the util.cpp and util.hpp only once and used for both programs. </li></ul><ul id="5a1c1d23-1c32-467f-8b8c-caba13fa590b" class="bulleted-list"><li style="list-style-type:disc">So we create util.o that will compile based on util.cpp and util.hpp</li></ul><ul id="845e7f38-2f5f-411a-8181-672833ab66eb" class="bulleted-list"><li style="list-style-type:disc">However, we don’t need an object file or util.o, so instead of writing <code>-o MyProg</code> like in MyProg program, we use <code>-c</code> instead, means we only compile and don’t link to any program. <code>-o</code> means output</li></ul><ul id="a9249e66-cd93-4bb0-9ad1-4635e314eca2" class="bulleted-list"><li style="list-style-type:disc">And because we don’t link to program, we also don’t need to include the library <code>$(LIBS)</code></li></ul><figure id="11272f69-0ba2-4bcc-b7cc-85742398699a" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-3.png?alt=media&token=ad460a2d-6ca5-482f-b6db-91d6377c614a"><img style="width:528px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-3.png?alt=media&token=ad460a2d-6ca5-482f-b6db-91d6377c614a"/></a></figure><ul id="145e6579-5b66-4c37-8e9f-7d6eb3462c50" class="bulleted-list"><li style="list-style-type:disc">In this picture we see that we create placeholders called util.o, main.o, and test.o to compile util.cpp, main.cpp and test.cpp</li></ul><ul id="3598bae9-6567-4392-b7a5-07157792f5e4" class="bulleted-list"><li style="list-style-type:disc">Next, we will replace the part in line 5,6 and 8,9 with our new placeholders:</li></ul><figure id="a2e22bfe-3441-4d6f-ad11-d0ff0d184f59" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-4.png?alt=media&token=08df168e-e9f4-4790-800c-c8650e0a6584"><img style="width:528px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-4.png?alt=media&token=08df168e-e9f4-4790-800c-c8650e0a6584"/></a></figure></div></p><h1 id="eacdbefc-efa4-4cd5-a27d-3270f917ed66" class="block-color-default">Step 4 to write Makefile</h1><p id="7779c1ea-2d55-4761-a3b2-d7746ac892e8" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 4: create placeholder rules to prevent similarities between placeholder</strong></span></mark></p><ul id="f50ec107-baa0-43b5-8a1a-855828c35c52" class="bulleted-list"><li style="list-style-type:disc">Syntax <code>%.o</code> means for anything that ends with <code>.o</code><ul id="0f448f0c-db19-4c47-a527-51391b76e35d" class="bulleted-list"><li style="list-style-type:circle">For example, <code>%.o : %.cpp util.hpp</code> means anything that ends with .o will depend on the same file name .cpp and util.hpp file ⇒ so <code>test.o : test.cpp util.hpp</code> (in this case, % is <code>test</code>)</li></ul></li></ul><ul id="05ec1084-7b87-42ad-8145-01ecb47096e0" class="bulleted-list"><li style="list-style-type:disc">Syntax <code>$&lt;</code> means for the file that is on the right of <code>:</code> , in this case it is the <code>%.cpp</code><figure id="1eb46427-bd31-4e60-8b98-4a8d6e640fdd" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-5.png?alt=media&token=9cf9ccd0-a330-433d-abb1-0c040bb33035"><img style="width:528px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-5.png?alt=media&token=9cf9ccd0-a330-433d-abb1-0c040bb33035"/></a></figure><ul id="3c536539-357b-4e0c-a678-a747438a038d" class="bulleted-list"><li style="list-style-type:circle">Line 11 and 12 is the placeholder rule. It will replace all three commands code from line 14 to line 21. The below picture is same as above but more illustration</li></ul><figure id="838cd9be-b42b-4afa-9753-5b301638557e" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-6.png?alt=media&token=62b9ace7-1434-4141-9bb7-c412c9c4d0ac"><img style="width:528px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-6.png?alt=media&token=62b9ace7-1434-4141-9bb7-c412c9c4d0ac"/></a></figure></li></ul><h1 id="d68f8393-a73c-4112-b8bf-d7c231015fc4" class="block-color-default">Step 5 to write Makefile</h1><p id="906f2ca2-e5c5-4764-96f7-e28fc8b5fa4b" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 5: Replace the program name and dependencies in our command line (line 6,9)</strong></span></mark></p><ul id="8a19b84c-de20-49bf-ae70-478ee641c975" class="bulleted-list"><li style="list-style-type:disc">We see that in command line 6, we have <code>main.o util.o</code>, those are <em><strong>dependencies,</strong></em> and it is whatever on the <em><strong>right side</strong></em> of <code>:</code> ,so we replace them with syntax <code>$^</code></li></ul><ul id="916c1b6c-847e-4a8b-8d30-0b3773bb9252" class="bulleted-list"><li style="list-style-type:disc">Same in line 6, the MyProg is the <em><strong>program name</strong></em>, and it is whatever on the <em><strong>left side </strong></em>of <code>:</code> , so we replace with syntax <code>$@</code></li></ul><div id="227f9c08-2e91-47e5-87c1-0542fc3ed7db" class="column-list"><div id="4e2f4752-993a-4e84-9fcc-c1c6f6494475" style="width:50%" class="column"><ul id="b38d714f-2f0e-4451-b567-15e35ba47ee3" class="bulleted-list"><li style="list-style-type:disc">This is before:</li></ul><figure id="34f3eafb-a058-45ab-b08a-35ab323ace0b" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-7.png?alt=media&token=59064d24-e85c-48b2-82e4-4b1ca4fd9f61"><img style="width:720px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-7.png?alt=media&token=59064d24-e85c-48b2-82e4-4b1ca4fd9f61"/></a></figure><p id="b2171bfa-4b78-4e2f-b106-942362bfca9b" class="">
</p></div><div id="93a56ffa-c735-4401-857b-bd1dca4b987b" style="width:50%" class="column"><ul id="8f233365-4426-413f-9067-a248831d546a" class="bulleted-list"><li style="list-style-type:disc">This is after:</li></ul><figure id="d03bfa26-2b36-46c1-a28f-f16d6a6983a8" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-8.png?alt=media&token=08a71c90-6754-4f5e-acaf-5ededc555632"><img style="width:939px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-8.png?alt=media&token=08a71c90-6754-4f5e-acaf-5ededc555632"/></a></figure></div></div><h1 id="50332302-94be-47c2-b61f-29560dcf1b71" class="block-color-teal_background">Step 6 to write Makefile</h1><p id="beaeef4a-8ec5-4196-adf6-b7ed890e0660" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 6: add dependencies and object variable to avoid more repeated code</strong></span></mark></p><ul id="01bee805-9f81-4ea8-8296-3063ebf194ad" class="bulleted-list"><li style="list-style-type:disc">Add <em><strong>dependencies variable</strong></em> to replace the <code>util.hpp</code> in line 11<ul id="fa77bf05-d342-472b-8633-94014cfbe142" class="bulleted-list"><li style="list-style-type:circle">This is after having <code>DEPS</code> variable</li></ul><figure id="3e27adbd-6c60-47b4-ba6b-b66e1bcbe577" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-9.png?alt=media&token=656622be-e17e-4dd4-af49-a3c1625d3805"><img style="width:480px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-9.png?alt=media&token=656622be-e17e-4dd4-af49-a3c1625d3805"/></a></figure></li></ul><ul id="46349197-7748-40bc-93a9-003331f86be2" class="bulleted-list"><li style="list-style-type:disc">There are still repeated util.o in line 7 and 10, so we create <em><strong>object variable</strong></em> to replace it<figure id="ec8f77de-8cb0-4730-8910-0bf1a25b2d2c" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-10.png?alt=media&token=121a4ddb-df64-4eee-92c4-663da71b7ea4"><img style="width:480px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-10.png?alt=media&token=121a4ddb-df64-4eee-92c4-663da71b7ea4"/></a></figure></li></ul><h1 id="4681531d-f9d6-48c7-9361-210ca26df44c" class="block-color-teal_background">Step 7 to write Makefile</h1><p id="27704757-0877-42fd-a33c-c659ef5d93c4" class=""><mark class="highlight-teal"><span style="border-bottom:0.05em solid"><strong>STEP 7: Add targets (all and clean)</strong></span></mark></p><ul id="9fa0b6d9-2d90-4003-a040-9cad3d21e748" class="bulleted-list"><li style="list-style-type:disc">Add the line 8 will help us to compile both MyProg and Test when we type “make”</li></ul><ul id="c36ccd76-ef49-49c8-855b-1bb9841aceff" class="bulleted-list"><li style="list-style-type:disc">The other lines are 19, 22 where is for cleaning files before type “make” again<figure id="e198198c-e7fe-45b7-b635-d018fc618c7a" class="image"><a href="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-11.png?alt=media&token=90784d0c-aa1b-45f5-ae98-a9ff2f68dca7"><img style="width:432px" src="https://firebasestorage.googleapis.com/v0/b/jfm-blog.appspot.com/o/code%2Fmakefile-11.png?alt=media&token=90784d0c-aa1b-45f5-ae98-a9ff2f68dca7"/></a></figure></li></ul><p id="05b8cd6d-7aef-4f21-a000-d943fcbcab21" class="">
</p></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>